# 2.メッセージに応答する

## ゴール

- トーク画面でメッセージを送信すると内容に応じた応答が返されること

## 2-1.全体構成

- メッセージに対して応答を返すにはAPIサーバを用意して返答処理を実装します
- APIサーバのURLをWebhook URLとして登録しておくことで、メッセージが送信された際にAPIが呼び出されるようになります
- この構成ではAPIサーバの実装が必要となるため応用編として6章で解説します

![構成1](/line-bot-handson/images/2-1.png)

- 簡易的な応答であればLINEのデベロッパーコンソール上で設定することができます
- この章ではこちらの手順を解説します

![構成](/line-bot-handson/images/2-2.png)

## 2-2.応答メッセージの登録

- 設定は[LINE Official Account Manager](https://manager.line.biz/)から行います
- アクセスしたら`アカウント`タブを選択し前章で作成した公式アカウントを選択します

![official account manager](/line-bot-handson/images/2-3.png)

- `応答メッセージ`タブを選択し`作成`から新しい応答メッセージを登録していきます

![応答メッセージ](/line-bot-handson/images/2-4.png)

- キーワードを設定すると、その文言と完全一致するメッセージが送られたときのみに返答されるメッセージとなります
- キーワードに`twitter`を登録しメッセージとしてtwitterのURLを設定してみましょう

![応答メッセージの作成](/line-bot-handson/images/2-5.png)

- 応答メッセージを登録できました

![応答メッセージの登録完了](/line-bot-handson/images/2-6.png)

- LINEを開いて友だち登録した公式アカウントとのトーク画面でメッセージを送ってみましょう

![reply twitter](/line-bot-handson/images/2-7.png)

- うまくいっていればtwitterのURLを教えてくれるようになっているはずです
- 同じ要領で他の応答メッセージも登録してみましょう

![他の応答メッセージの登録完了](/line-bot-handson/images/2-8.png)

- これで送信されたキーワードに応じて応答メッセージを制御することができるようになりました

## 2-3.メッセージを送ってみる

- スマホでLINEアプリを開いて動作確認をしてみましょう
- 登録したワードを送信するとリンクが応答されるようになりました

![reply](/line-bot-handson/images/2-9.png)

- 応答メッセージ以外にもいろいろ設定できるので試してみると面白いです

![メニュー](/line-bot-handson/images/2-10.png)

